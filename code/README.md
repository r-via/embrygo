# EmbryGo: github.com/r-via/embrygo

Minimalist Go & Templ Web Starter with HTMX & Tailwind CSS.

Based on the BlitzKit stack, EmbryGo provides a clean foundation to kickstart your Go web projects.
It features a Go backend (powered by Fiber & BlitzKit), server-side Templ components,
HTMX for dynamic UI, and Tailwind CSS with DaisyUI for styling.
Includes live-reload, build tools, and best practices.

## Features

*   **Go Backend**: Fiber framework with a BlitzKit server layer (logging, config, CSRF, security, static file processing).
*   **Templ**: Type-safe HTML templating directly in Go.
*   **HTMX**: For enhancing HTML with AJAX capabilities without complex JavaScript.
*   **Tailwind CSS & DaisyUI**: Utility-first CSS for rapid UI development.
*   **Heroicons**: SVG icons as Templ components, generated by `templ-heroicons-generator`.
*   **Live Reload**: Using Air for development.
*   **Makefile**: For easy build, run, and utility commands.
*   **Configuration**: `.env` file support.
*   **Logging**: Structured logging with `slog`.

## Project Structure

(You can add a brief overview of the generated structure here later)

## Prerequisites (Development)

*   Go (e.g., 1.21+)
*   Node.js and npm (for Tailwind CSS & DaisyUI)
*   Python 3.8+ (with `venv` module)
*   Templ CLI (`go install github.com/a-h/templ/cmd/templ@latest`)
*   Air (`go install github.com/cosmtrek/air@latest`)

The `templ-heroicons-generator` Python package will be installed in a local virtual environment via the Makefile.

## Getting Started

1.  **Clone or Generate:**
    This project is typically generated by a script. If you cloned it, proceed.

2.  **Copy Environment Configuration:**
    ```bash
    cp .env.example .env
    ```
    Modify `.env` as needed (especially `APP_BASE_URL` if not `http://localhost:8080`).

3.  **Install Tools & Dependencies:**
    This command will set up Node.js dependencies (for Tailwind) and Python dependencies (for Heroicons generation) in local `tools/` subdirectories.
    ```bash
    make setup-tools
    ```

4.  **Run in Development Mode (with Live Reload):**
    This will build initial frontend assets and then start the Air live reloader.
    ```bash
    make run
    ```
    The application will be available at `http://localhost:PORT` (default: `http://localhost:8080`).
    The main page is `/welcome`.

5.  **Build for Production:**
    ```bash
    make build
    ```
    This creates an optimized binary in `./bin/service-app`.

6.  **Run Production Build:**
    ```bash
    make start-prod
    # or directly:
    # APP_ENV=production ./bin/service-app
    ```

## Available Makefile Targets

*   `make all` or `make build`: Builds the entire application.
*   `make run`: Runs the app in development mode with live reload.
*   `make clean`: Removes build artifacts and generated files.
*   `make setup-tools`: Installs Node.js and Python tool dependencies.
*   `make tailwind`: Generates Tailwind CSS.
*   `make heroicons`: Generates Heroicon Templ components.
*   `make templ-generate`: Compiles all `.templ` files to Go.
*   `make copy-statics`: Copies files from `webroot/statics` to `webroot/www`.
*   `make minify-sources`: 'Minifies' (currently copies) `webroot/sources/app.js` to `webroot/www/js/app.js`.
*   `make start-prod`: Runs the production-built binary.
*   `make fmt`: Formats Go code.
*   `make tidy`: Tidies Go module dependencies.

## Technologies Used

*   Go
*   Fiber
*   BlitzKit (Custom Server Layer)
*   Templ
*   HTMX
*   Tailwind CSS
*   DaisyUI
*   Heroicons (via templ-heroicons-generator)
*   Slog
*   Air (Live Reload)